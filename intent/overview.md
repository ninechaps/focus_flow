# Focus Hut: macOS 个人专注力管理工具

## 一句话

任务管理与番茄钟无缝融合的 macOS 桌面应用，帮你"选任务 → 专注 → 完成"。

---

## 为什么做？

市面上的效率工具要么只管任务（Todoist），要么只管计时（Forest），用户需要在多个应用间切换。Focus Hut 将两者融为一体，并以原生桌面体验（菜单栏计时器、全局快捷键、系统托盘）区别于移动端移植的竞品。

---

## 核心体验

```
选任务 ──→ 专注 ──→ 完成 ──→ 复盘
  │          │         │        │
  │          │         │        └─ 统计面板（日/周/月专注数据）
  │          │         └─ 任务自动标记完成
  │          └─ 沉浸式全屏 + 菜单栏倒计时
  └─ 任务列表，支持子任务和标签
```

---

## 架构

```
  Platform (菜单栏/快捷键/托盘/通知)
              │
  UI (Pages + 自定义设计语言)
              │
  State (Provider/ChangeNotifier)
              │
  Repository (接口 → SQLite 实现)
              │
  Data (SQLite + Freezed Models)
```

---

## 关键决策

| 问题 | 选择 | 原因 |
|------|------|------|
| 核心流程？ | 任务驱动型 | 先选任务再专注，有目标感 |
| 专注界面？ | 沉浸式全屏 | 减少干扰，进入心流 |
| 视觉风格？ | MD3 + 自定义 | 有辨识度但不从零造 |
| 数据存储？ | 本地 SQLite | 预留云接口，当前不做同步 |
| 番茄钟参数？ | 预设 + 自定义 | 25/5、50/10、90/20 |

---

## 范围

### 做

- 任务管理（CRUD、子任务、标签、优先级）
- 番茄钟（沉浸式全屏、可配置参数）
- macOS 集成（菜单栏、快捷键、托盘、通知）
- 专注统计（时长图表、完成率）
- 日程规划（日历视图）
- Light/Dark 主题

### 不做

- 云同步、团队协作、移动端
- 复杂项目管理（甘特图、看板）
- 社交功能、白噪音

---

## 优先级路线

```
Phase 1: 系统集成  ←── 你在这里
Phase 2: 专注沉浸
Phase 3: 统计可视化
Phase 4: 日程规划
```

---

## 风险 + 缓解

| 风险 | 缓解 |
|------|------|
| macOS 集成 package 不成熟 | 提前调研，备选 Platform Channel |
| 全屏与菜单栏冲突 | 设计降级方案 |
| 自定义设计语言工期长 | 渐进式，先做核心组件 |

---

## 下一步

1. 调研 macOS 系统集成 package 选型
2. 设计菜单栏计时器交互细节
3. 完善专注模块 Intent（沉浸式界面 + 会话数据模型）
